<template>
    <div v-if="loaded">
        <h2 class="text-center">Your Scheduled Appointments</h2>
        <div v-for="appt in appointments">
            <div class="panel panel-primary col-sm-8 col-sm-offset-2 text-center">
                <div class="panel-heading">
                    <h3 class="panel-title">{{appt.title}}</h3>
                </div>
                <div class="panel-body">
                    <p>{{appt.description}}</p>
                    <p>{{dateFormat(appt.date)}}</p>
                    <p>{{timeFormat(appt.time)}}</p>
                    <p><strong>Type of Event: </strong><span>{{appt.type}}</span></p>
                    <p>
                        <strong>Work Related: </strong>
                        <span>{{booleanFilter(appt.workrelated)}}</span>
                    </p>
                    <div class="row">
                        <div class="col-xs-6">
                            <router-link class="btn btn-primary btn-xs" :to="`/appointment/${appt.id}`">Edit</router-link>
                        </div>
                        <div class="col-xs-6">
                            <a href="#" v-on:click="deleteAppointment(appt)" class="btn btn-primary btn-xs">Delete</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div v-else>
        <em>Loading...</em>
    </div>
</template>

<script src="./home.ts"></script>